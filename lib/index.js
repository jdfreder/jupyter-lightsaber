'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.load_ipython_extension = load_ipython_extension;
exports.changeSaberStyle = changeSaberStyle;
var css = '\n.lightsaber { position: relative; }\n\n.lightsaber label {\n\tcursor: pointer;\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\tz-index: 88;\n\ttext-indent: -9999px;\n\twidth: 15px;\n\theight: 50px;\n\tborder-bottom: solid 4px grey;\n\tborder-top: solid 5px grey;\n\tborder-radius: 5px;\n\t-moz-border-radius: 5px;\n\t-webkit-border-radius: 5px;\n\t-o-border-radius: 5px;\n\t-ms-border-radius: 5px;\n\tbackground: rgb(226,226,226); /* Old browsers */\n\tbackground: linear-gradient(to right, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* W3C */\n\tbackground: -moz-linear-gradient(left, rgba(226,226,226,1) 0%, rgba(219,219,219,1) 50%, rgba(209,209,209,1) 51%, rgba(254,254,254,1) 100%); /* FF3.6+ */\n\tbackground: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(226,226,226,1)), color-stop(50%,rgba(219,219,219,1)), color-stop(51%,rgba(209,209,209,1)), color-stop(100%,rgba(254,254,254,1))); /* Chrome,Safari4+ */\n\tbackground: -webkit-linear-gradient(left, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: -o-linear-gradient(left, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* Opera 11.10+ */\n\tbackground: -ms-linear-gradient(left, rgba(226,226,226,1) 0%,rgba(219,219,219,1) 50%,rgba(209,209,209,1) 51%,rgba(254,254,254,1) 100%); /* IE10+ */\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#e2e2e2\', endColorstr=\'#fefefe\',GradientType=1 ); /* IE6-9 */\n}\n\n.lightsaber .switch {\n\tbackground: #B94A37;\n\twidth: 5px;\n\theight: 10px;\n\tdisplay: block;\n\tposition: absolute;\n\tbottom: 25px;\n\tleft: 13px;\n\ttransition: left 200ms;\n\t-moz-transition: left 200ms;\n\t-webkit-transition: left 200ms;\n\t-o-transition: left 200ms;\n\t-ms-transition: left 200ms;\n\tborder-radius: 10px;\n\t-moz-border-radius: 10px;\n\t-webkit-border-radius: 10px;\n\t-o-border-radius: 10px;\n\t-ms-border-radius: 10px;\n}\n\n.lightsaber input[type=checkbox] {\n\tposition: absolute;\n\tbottom: 0;\n\tleft: 0;\n\topacity: 0;\n\t-moz-opacity: 0;\n\t-webkit-opacity: 0;\n\t-o-opacity: 0;\n\t-ms-opacity: 0;\n\tz-index: 77;\n}\n\n.lightsaber .plasma {\n\ttransition: height 300ms,;\n\t-moz-transition: height 300ms;\n\t-webkit-transition: height 300ms;\n\t-o-transition: height 300ms;\n\t-ms-transition: height 300ms;\n\tborder-radius: 12px 12px 0 0;\n\tposition: absolute;\n\tbottom: 55px;\n\tleft: 2px;\n\twidth: 10px;\n\tdisplay: block;\n\tfilter: blur(1px);\n\t-moz-filter: blur(1px);\n\t-webkit-filter: blur(1px);\n\t-o-filter: blur(1px);\n\t-ms-filter: blur(1px);\n\theight: 0;\n}\n\n\n.lightsaber input[type=checkbox]:checked ~ div.plasma {\n\theight: 250px;\n}\n\n.lightsaber input[type=checkbox]:hover ~ div.switch {\n\tbackground: #c09853;\n\tleft: 12px;\n}\n\n.lightsaber input[type=checkbox]:checked ~ div.switch {\n\tbackground: #468847;\n}\n\n.yoda {\n\tbackground: rgb(135,220,90); /* Old browsers */\n\tbackground: linear-gradient(to right, rgb(135,220,90) 0%,rgb(254,254,254) 30%,rgb(254,254,254) 50%,rgb(254,254,254) 70%,rgb(135,220,90) 100%); /* W3C */\n\tbackground: -moz-linear-gradient(left, rgb(135,220,90) 0%, rgb(254,254,254) 30%, rgb(254,254,254) 50%, rgb(254,254,254) 70%, rgb(135,220,90) 100%); /* FF3.6+ */\n\tbackground: -webkit-gradient(linear, left top, right top, color-stop(0%,rgb(135,220,90)), color-stop(30%,rgb(254,254,254)), color-stop(50%,rgb(254,254,254)), color-stop(70%,rgb(254,254,254)), color-stop(100%,rgb(135,220,90))); /* Chrome,Safari4+ */\n\tbackground: -webkit-linear-gradient(left, rgb(135,220,90) 0%,rgb(254,254,254) 30%,rgb(254,254,254) 50%,rgb(254,254,254) 70%,rgb(135,220,90) 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: -o-linear-gradient(left, rgb(135,220,90) 0%,rgb(254,254,254) 30%,rgb(254,254,254) 50%,rgb(254,254,254) 70%,rgb(135,220,90) 100%); /* Opera 11.10+ */\n\tbackground: -ms-linear-gradient(left, rgb(135,220,90) 0%,rgb(254,254,254) 30%,rgb(254,254,254) 50%,rgb(254,254,254) 70%,rgb(135,220,90) 100%); /* IE10+ */\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#87dc5a\', endColorstr=\'#87dc5a\',GradientType=1 ); /* IE6-9 */\n\tanimation-name: yoda;\n\t-moz-animation-name: yoda;\n\t-webkit-animation-name: yoda;\n\t-o-animation-name: yoda;\n\t-ms-animation-name: yoda;\n\tanimation-duration: 2s;\n\t-moz-animation-duration: 2s;\n\t-webkit-animation-duration: 2s;\n\t-o-animation-duration: 2s;\n\t-ms-animation-duration: 2s;\n\tanimation-iteration-count: infinite;\n\t-moz-animation-iteration-count: infinite;\n\t-webkit-animation-iteration-count: infinite;\n\t-o-animation-iteration-count: infinite;\n\t-ms-animation-iteration-count: infinite;\n}\n\n.vader {\n\tbackground: rgb(229,17,21); /* Old browsers */\n\tbackground: linear-gradient(to right, rgba(229,17,21,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(229,17,21,1) 100%); /* W3C */\n\tbackground: -moz-linear-gradient(left, rgba(229,17,21,1) 0%, rgba(254,254,254,1) 30%, rgba(254,254,254,1) 47%, rgba(254,254,254,1) 71%, rgba(229,17,21,1) 100%); /* FF3.6+ */\n\tbackground: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(229,17,21,1)), color-stop(30%,rgba(254,254,254,1)), color-stop(47%,rgba(254,254,254,1)), color-stop(71%,rgba(254,254,254,1)), color-stop(100%,rgba(229,17,21,1))); /* Chrome,Safari4+ */\n\tbackground: -webkit-linear-gradient(left, rgba(229,17,21,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(229,17,21,1) 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: -o-linear-gradient(left, rgba(229,17,21,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(229,17,21,1) 100%); /* Opera 11.10+ */\n\tbackground: -ms-linear-gradient(left, rgba(229,17,21,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(229,17,21,1) 100%); /* IE10+ */\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#e51115\', endColorstr=\'#e51115\',GradientType=1 ); /* IE6-9 */\n\tanimation-name: vader;\n\t-moz-animation-name: vader;\n\t-webkit-animation-name: vader;\n\t-o-animation-name: vader;\n\t-ms-animation-name: vader;\n\tanimation-duration: 2s;\n\t-moz-animation-duration: 2s;\n\t-webkit-animation-duration: 2s;\n\t-o-animation-duration: 2s;\n\t-ms-animation-duration: 2s;\n\tanimation-iteration-count: infinite;\n\t-moz-animation-iteration-count: infinite;\n\t-webkit-animation-iteration-count: infinite;\n\t-o-animation-iteration-count: infinite;\n\t-ms-animation-iteration-count: infinite;\n}\n\n.windu {\n\tbackground: rgb(202,116,221); /* Old browsers */\n\tbackground: linear-gradient(to right, rgba(202,116,221,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(202,116,221,1) 100%); /* W3C */\n\tbackground: -moz-linear-gradient(left, rgba(202,116,221,1) 0%, rgba(254,254,254,1) 30%, rgba(254,254,254,1) 47%, rgba(254,254,254,1) 71%, rgba(202,116,221,1) 100%); /* FF3.6+ */\n\tbackground: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(202,116,221,1)), color-stop(30%,rgba(254,254,254,1)), color-stop(47%,rgba(254,254,254,1)), color-stop(71%,rgba(254,254,254,1)), color-stop(100%,rgba(202,116,221,1))); /* Chrome,Safari4+ */\n\tbackground: -webkit-linear-gradient(left, rgba(202,116,221,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(202,116,221,1) 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: -o-linear-gradient(left, rgba(202,116,221,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(202,116,221,1) 100%); /* Opera 11.10+ */\n\tbackground: -ms-linear-gradient(left, rgba(202,116,221,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(202,116,221,1) 100%); /* IE10+ */\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#ca74dd\', endColorstr=\'#ca74dd\',GradientType=1 ); /* IE6-9 */\n\tanimation-name: windu;\n\t-moz-animation-name: windu;\n\t-webkit-animation-name: windu;\n\t-o-animation-name: windu;\n\t-ms-animation-name: windu;\n\tanimation-duration: 2s;\n\t-moz-animation-duration: 2s;\n\t-webkit-animation-duration: 2s;\n\t-o-animation-duration: 2s;\n\t-ms-animation-duration: 2s;\n\tanimation-iteration-count: infinite;\n\t-moz-animation-iteration-count: infinite;\n\t-webkit-animation-iteration-count: infinite;\n\t-o-animation-iteration-count: infinite;\n\t-ms-animation-iteration-count: infinite;\n}\n\n.obi-wan {\n\tbackground: rgb(55,132,214); /* Old browsers */\n\tbackground: linear-gradient(to right, rgba(55,132,214,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(55,132,214,1) 100%); /* W3C */\n\tbackground: -moz-linear-gradient(left, rgba(55,132,214,1) 0%, rgba(254,254,254,1) 30%, rgba(254,254,254,1) 47%, rgba(254,254,254,1) 71%, rgba(55,132,214,1) 100%); /* FF3.6+ */\n\tbackground: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(55,132,214,1)), color-stop(30%,rgba(254,254,254,1)), color-stop(47%,rgba(254,254,254,1)), color-stop(71%,rgba(254,254,254,1)), color-stop(100%,rgba(55,132,214,1))); /* Chrome,Safari4+ */\n\tbackground: -webkit-linear-gradient(left, rgba(55,132,214,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(55,132,214,1) 100%); /* Chrome10+,Safari5.1+ */\n\tbackground: -o-linear-gradient(left, rgba(55,132,214,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(55,132,214,1) 100%); /* Opera 11.10+ */\n\tbackground: -ms-linear-gradient(left, rgba(55,132,214,1) 0%,rgba(254,254,254,1) 30%,rgba(254,254,254,1) 47%,rgba(254,254,254,1) 71%,rgba(55,132,214,1) 100%); /* IE10+ */\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#3784d6\', endColorstr=\'#3784d6\',GradientType=1 ); /* IE6-9 */\n\tanimation-name: obi-wan;\n\t-moz-animation-name: obi-wan;\n\t-webkit-animation-name: obi-wan;\n\t-o-animation-name: obi-wan;\n\t-ms-animation-name: obi-wan;\n\tanimation-duration: 2s;\n\t-moz-animation-duration: 2s;\n\t-webkit-animation-duration: 2s;\n\t-o-animation-duration: 2s;\n\t-ms-animation-duration: 2s;\n\tanimation-iteration-count: infinite;\n\t-moz-animation-iteration-count: infinite;\n\t-webkit-animation-iteration-count: infinite;\n\t-o-animation-iteration-count: infinite;\n\t-ms-animation-iteration-count: infinite;\n}\n\ndiv {\n\t-webkit-transform : translateZ(0); \n\t-o-transform : translateZ(0); \n\t-moz-transform : translateZ(0); \n\ttransform : translateZ(0); \n}\n\n/* Animations */\n@keyframes yoda {\n\tfrom { box-shadow: 0 0 10px #7EC855; }\n\t50% { box-shadow: 0 0 16px #7EC855; }\n\tto { box-shadow: 0 0 10px #7EC855; }\n}\n@-moz-keyframes yoda {\n\tfrom { box-shadow: 0 0 10px #7EC855; }\n\t50% { box-shadow: 0 0 16px #7EC855; }\n\tto { box-shadow: 0 0 10px #7EC855; }\n}\n@-webkit-keyframes yoda {\n\tfrom { box-shadow: 0 0 10px #7EC855; }\n\t50% { box-shadow: 0 0 16px #7EC855; }\n\tto { box-shadow: 0 0 10px #7EC855; }\n}\n@-o-keyframes yoda {\n\tfrom { box-shadow: 0 0 10px #7EC855; }\n\t50% { box-shadow: 0 0 16px #7EC855; }\n\tto { box-shadow: 0 0 10px #7EC855; }\n}\n@-ms-keyframes yoda {\n\tfrom { box-shadow: 0 0 10px #7EC855; }\n\t50% { box-shadow: 0 0 16px #7EC855; }\n\tto { box-shadow: 0 0 10px #7EC855; }\n}\n\n@keyframes vader {\n\tfrom { box-shadow: 0 0 10px #e51115; }\n\t50% { box-shadow: 0 0 16px #e51115; }\n\tto { box-shadow: 0 0 10px #e51115; }\n}\n@-moz-keyframes vader {\n\tfrom { box-shadow: 0 0 10px #e51115; }\n\t50% { box-shadow: 0 0 16px #e51115; }\n\tto { box-shadow: 0 0 10px #e51115; }\n}\n@-webkit-keyframes vader {\n\tfrom { box-shadow: 0 0 10px #e51115; }\n\t50% { box-shadow: 0 0 16px #e51115; }\n\tto { box-shadow: 0 0 10px #e51115; }\n}\n@-o-keyframes vader {\n\tfrom { box-shadow: 0 0 10px #e51115; }\n\t50% { box-shadow: 0 0 16px #e51115; }\n\tto { box-shadow: 0 0 10px #e51115; }\n}\n@-ms-keyframes vader {\n\tfrom { box-shadow: 0 0 10px #e51115; }\n\t50% { box-shadow: 0 0 16px #e51115; }\n\tto { box-shadow: 0 0 10px #e51115; }\n}\n\n@keyframes windu {\n\tfrom { box-shadow: 0 0 10px #ca74dd; }\n\t50% { box-shadow: 0 0 16px #ca74dd; }\n\tto { box-shadow: 0 0 10px #ca74dd; }\n}\n@-moz-keyframes windu {\n\tfrom { box-shadow: 0 0 10px #ca74dd; }\n\t50% { box-shadow: 0 0 16px #ca74dd; }\n\tto { box-shadow: 0 0 10px #ca74dd; }\n}\n@-webkit-keyframes windu {\n\tfrom { box-shadow: 0 0 10px #ca74dd; }\n\t50% { box-shadow: 0 0 16px #ca74dd; }\n\tto { box-shadow: 0 0 10px #ca74dd; }\n}\n@-o-keyframes windu {\n\tfrom { box-shadow: 0 0 10px #ca74dd; }\n\t50% { box-shadow: 0 0 16px #ca74dd; }\n\tto { box-shadow: 0 0 10px #ca74dd; }\n}\n@-ms-keyframes windu {\n\tfrom { box-shadow: 0 0 10px #ca74dd; }\n\t50% { box-shadow: 0 0 16px #ca74dd; }\n\tto { box-shadow: 0 0 10px #ca74dd; }\n}\n\n@keyframes obi-wan {\n\tfrom { box-shadow: 0 0 10px #3784d6; }\n\t50% { box-shadow: 0 0 16px #3784d6; }\n\tto { box-shadow: 0 0 10px #3784d6; }\n}\n@-moz-keyframes obi-wan {\n\tfrom { box-shadow: 0 0 10px #3784d6; }\n\t50% { box-shadow: 0 0 16px #3784d6; }\n\tto { box-shadow: 0 0 10px #3784d6; }\n}\n@-webkit-keyframes obi-wan {\n\tfrom { box-shadow: 0 0 10px #3784d6; }\n\t50% { box-shadow: 0 0 16px #3784d6; }\n\tto { box-shadow: 0 0 10px #3784d6; }\n}\n@-o-keyframes obi-wan {\n\tfrom { box-shadow: 0 0 10px #3784d6; }\n\t50% { box-shadow: 0 0 16px #3784d6; }\n\tto { box-shadow: 0 0 10px #3784d6; }\n}\n@-ms-keyframes obi-wan {\n\tfrom { box-shadow: 0 0 10px #3784d6; }\n\t50% { box-shadow: 0 0 16px #3784d6; }\n\tto { box-shadow: 0 0 10px #3784d6; }\n}\n';

var plasmaResolve = undefined;
var plasmaPromise = new Promise(function (res) {
	return plasmaResolve = res;
});
var plasmaStyleName = 'obi-wan';

function createSaber(el) {
	var Howl = require('howler').Howl;
	var onSound = new Howl({
		urls: ['../nbextensions/jupyter-lightsaber/on.wav']
	});
	var offSound = new Howl({
		urls: ['../nbextensions/jupyter-lightsaber/off.wav']
	});

	var saber = document.createElement('div');
	saber.className = 'lightsaber';
	var label = document.createElement('label');
	label.setAttribute('for', 'obi-wan-example');
	var box = document.createElement('input');
	box.setAttribute('id', 'obi-wan-example');
	box.setAttribute('type', 'checkbox');
	var saberSwitch = document.createElement('div');
	saberSwitch.className = 'switch';
	var plasma = document.createElement('div');
	plasma.className = 'plasma ' + plasmaStyleName;

	saber.appendChild(label);
	saber.appendChild(box);
	saber.appendChild(saberSwitch);
	saber.appendChild(plasma);
	el.appendChild(saber);

	box.onclick = function () {
		if (box.checked) {
			onSound.play();
		} else {
			offSound.play();
		}
	};

	plasmaResolve(plasma);
}

function load_ipython_extension() {
	var style = document.createElement('style');
	style.innerHTML = css;
	document.querySelector('head').appendChild(style);

	createSaber(document.querySelector('#notebook'));
}

function changeSaberStyle(styleName) {
	return plasmaPromise.then(function (plasma) {
		plasma.classList.remove(plasmaStyleName);
		plasmaStyleName = styleName;
		plasma.classList.add(plasmaStyleName);
	});
}